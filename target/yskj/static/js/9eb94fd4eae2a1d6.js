!function(){function e(e,n,t){var r;if(null==e)throw new TypeError('"this" is null or not defined');var o=Object(e),i=o.length>>>0;if(0===i)return-1;var a=+t||0;if(Math.abs(a)===1/0&&(a=0),a>=i)return-1;for(r=Math.max(a>=0?a:i-Math.abs(a),0);r<i;){if(r in o&&o[r]===n)return r;r++}return-1}function n(e,n){function t(){return D.get(e)}function r(){var n=t();if(void 0==n)D.set(e,i,options);else{var r=n.split(",");r.push(i)>5&&r.shift(),D.set(e,r.toString(),options)}}function o(){var e=t().split(","),n=e.length,r=e[n-1],o="";return n>1&&(o=e[n-2]),[r,o]}var i=n();return options={expires:356,path:"/"},{get:t,set:r,getLast:o}}function t(e){e||M.set(),B.set()}function r(e,n,t){return null!=e&&(e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t,!0)}function o(e,n){function t(e,n){var t=document.createElement("a");return t.href=n,e===t.hostname}var r=!1,o=28800;if(void 0==e)r=!1;else{var i=e.split(","),a=parseInt(i.slice(-1));r=!(Math.abs(n-+a)>o||!t(document.domain,top.document.referrer))}return r}function i(e,n,t){var o=("https:"==document.location.protocol?"https://":"http://")+"//stat.tf.360.cn/search/c.js?u="+e;if(""==e||n)t();else{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=o;var a=(I.nowBySeconds(),document.getElementsByTagName("script")[0]);a.parentNode.insertBefore(i,a),r(i,"load",function(e){t()}),r(i,"error",function(e){t()}),r(i,"readystatechange",function(e){"complete"!=i.readyState&&"loaded"!=i.readyState||t()})}}function a(e){var n={};return n.cl=y.pixelDepth||y.colorDepth||"0",n.ds=y.width+"x"+y.height,n.ln=navigator.language||navigator.browserLanguage||"unknown",n.ck=e?1:0,n.et=qsLoad=0,n}function c(e,n,t){var r={};r.si=e,r.url=window.location.href,r.su=top.document.referrer,r.flt=n,r.v=t;var o=M.getLast();r.lt=o[0],""!==o[1]&&(r.lt2=o[1]);var i=B.getLast();return r.pt=i[0],""!==i[1]&&(r.pt2=i[1]),r}function u(){var e="BackCompat"==document.compatMode?"body":"documentElement",n=document[e],t=Math.max(n.scrollWidth,n.clientWidth),r=Math.max(n.scrollHeight,n.clientHeight);return[t,r]}function s(e){e=O.fixTarget(e);var n=e.clientX,t=e.clientY,r=I.getScroll(),o=r.scrollY,i=r.scrollX,a=u();_qha("send",{et:10,x:n+i,y:t+o,w:a[0],h:a[1]})}function d(n){return function(t){t=O.fixTarget(t);var r=t.target,o=r.id;o&&e(n,o)>-1&&_qha("send",{et:11,ep:o})}}function f(e){var n,t='<iframe  name="'+e+'">';try{n=document.createElement(t)}catch(o){n=document.createElement("iframe"),n.name=e}n.height=0,n.width=0,n.border=0,n.style.display="none",n.src=document.location.protocol+"//360fenxi.mediav.com/mv.html",n.onload="",l(n,e),document.body?document.body.appendChild(n):r(window,"load",function(){document.body.appendChild(n)})}function l(e,n){function t(e){var t=e.split(",");if(""===t)return void console.info("mv is null");var r={et:20,eid:n,ep:t[0],vid:t[1],ctn:t[2]};_qha("send",r)}function o(e){"http://360fenxi.mediav.com"===e.origin||"https://360fenxi.mediav.com"===e.origin?t(e.data):console.info("invalid iframe url")}var i="postMessage"in window;i?r(window,"message",o):window.navigator._qha_message=function(e){t(e)}}function g(){var e={},n=3;return e.et=n,e.ep=I.nowBySeconds()-J,e}function w(e){var n=U.getInfo(),t=a(e);t=A.assign(t,n),t.et=qsLoad,C||(_qha("send",t),C=!0)}function p(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&")}function v(e){return new RegExp(p(e).replace("\\*",".*"))}function m(n){var t,r=location.href;return t=e(n,"*")>-1?v(n).test(r):n===r}function h(e){var n=[];for(var t in j)m(t)&&n.push(j[t]);return N.distinct(n.join(",").split(","))}if(!window._qha||window._qha.init!==!0){var _="2.0.0",y=window.screen,b=window._qha_data,S=b.domain,x=b.e360,k=b.pageClk,q=1===b.urlClk,j=b.idClk,E=b.mvid,T=window.location.protocol+"//"+b.host+"/s.gif",C=!1;"undefined"==typeof console&&(console={info:function(){}});var I={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},now:function(){return(new Date).getTime()},nowBySeconds:function(){return parseInt(this.now()/1e3)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},getScroll:function(){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||""),t=e?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft,r=e?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop;return{scrollX:t,scrollY:r}},getBrowser:function(){var n=navigator.userAgent.toLowerCase(),t={"360se-ua":"360se",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 1.x / se 2.x",TheWorld:"theworld"};for(var r in t)if(e(n,t[r])>-1)return r;var o=!1;try{+external.twGetVersion(external.twGetSecurityID(window)).replace(/\./g,"")>1013&&(o=!0)}catch(i){}if(o)return"360se-noua";var a=n.match(/(msie|chrome|safari|firefox|opera|trident)/);return a=a?a[0]:""},guid:function(){function e(e){var n=0,t=0,r=e.length-1;for(r;r>=0;r--){var o=parseInt(e.charCodeAt(r),10);n=(n<<6&4294967295)+o+(o<<14),0!=(t=4261412864&n)&&(n^=t>>21)}return n}function n(){var n=[navigator.appName,navigator.version,navigator.language||navigator.browserLanguage,navigator.platform,navigator.userAgent,y.width,"x",y.height,y.colorDepth,document.referrer].join("");for(sLen=n.length,hLen=window.history.length;hLen;)n+=hLen--^sLen++;return 2147483647*(Math.round(2147483647*Math.random())^e(n))}return n()}},L=function(){function e(e){var n,t=[];for(var r in e)n=e[r],I.isString(n)&&(n='"'+n+'"'),t.push('"'+r+'":'+n);return"{"+t.join(",")+"}"}function n(n){if(!I.isArray(n))return"";if(window.JSON)return JSON.stringify(n);for(var t=[],r=0,o=n.length;r<o;r++){var i=n[r];I.isObject(i)&&t.push(e(n[r])),I.isString(i)&&t.push('"'+i+'"'),I.isNumber(i)&&t.push(i)}return"["+t.join(",")+"]"}function t(e){if(!I.isString(e))return null;if(window.JSON)return JSON.parse(e);if(rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidchars.test(e.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return new Function("return "+e)();throw new Error("invalid JSON data: ",e)}return{array2String:n,string2Object:t}}(),N=function(){function n(e){return o.apply(e,[0,1])}function t(e){return o.apply(e,[1,e.length])}function r(n){for(var t=[],r=n.length,o=0;o<r;o++)e(t,n[o])<0&&t.push(n[o]);return t}var o=Array.prototype.slice;return{first:n,rest:t,distinct:r}}(),O={fixTarget:function(e){if(!("target"in e)){var n=e.srcElement||e.target;n&&3==n.nodeType&&(n=n.parentNode),e.target=n}return e}},A=function(){function e(e,n){if(void 0===n||null===n)return e;for(var t in n)e[t]=n[t];return e}function n(e){var n=[];for(var t in e)if(null!=e[t])if(I.isArray(e[t])){var r=L.array2String(e[t]);n.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}else n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}return{assign:e,obj2EncodeURI:n}}(),D={get:function(e){try{var n,t,r=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(r))&&(n=unescape(t[2])),n}catch(o){return""}},set:function(e,n,t){var r=t||{},o=r.expires,i=r.path,a=r.domain,c=864e5;if("number"==typeof o){var u=new Date;u.setTime(u.getTime()+o*c),o=u.toUTCString()}try{n=escape(n),document.cookie=[e,"=",n,o?";expires="+o:"",i?";path="+i:"",a?";domain="+a:""].join("")}catch(s){console.info("error:",s)}}},M=n("qs_lvt_"+S,function(){return I.nowBySeconds().toString()}),B=n("qs_pv_"+S,function(){return I.guid().toString()}),R=function(){function n(e,n){var t="";switch(e){case"chrome":t=n.slice(0,8182);break;case"msie":t=n.slice(0,2083);break;case"firefox":t=n.slice(0,65536);break;case"safari":t=n.slice(0,8e4);break;default:t=n}return t}function t(e){e=n(I.getBrowser(),e),console&&console.info&&console.info("data is: ",e);var t="log_img_"+ +new Date,r=window.__qha_log_imgs[t]=new Image;r.onload=r.onerror=function(){window.__qha_log_imgs&&window.__qha_log_imgs[t]&&(window.__qha_log_imgs[t]=null,delete window.__qha_log_imgs[t])},r.src=e}function r(n,t,r){r=r||{},r=A.assign(r,t);var o=A.obj2EncodeURI(r),i=e(n,"?")>-1?n+"&"+o:n+"?"+o;return i+"&t="+ +new Date}return window.__qha_log_imgs={},{sendData:t,generateData:r,logData:function(e,n,o){var i=r(e,n,o);t(i)}}}(),U={set:function(){var e="",n=[],t=window._e360_uid||"",r=window._e360_campaignid||"",o=window._e360_groupid||"",i=window._e360_creativeid||"",a=window._e360_keywordid||"",c=window._e360_clickid||"",u=window._e360_commerce||"";""!==t&&(n=[t,r,o,i,a,c]),""!==u&&n.push(u),e=n.join(","),window.localStorage?localStorage.setItem("s_e360",e):D.set("s_e360",e,{expires:1,path:"/"})},get:function(){var e=window.localStorage?localStorage.getItem("s_e360"):D.get("s_e360"),n={};if(void 0==e||""===e)return{};e=e.split(",");var t=e.length,r=["e_uid","e_cid","e_gid","e_yid","e_kid","e_clkid","e_com"];switch(t){case 0:break;case 1:n.e_com=e[0];break;case 6:case 7:for(var o=0;o<t;o++)n[r[o]]=e[o]}return n},getInfo:function(){var e={};return window._e360_uid&&(e.e_uid=window._e360_uid||"",e.e_cid=window._e360_campaignid||"",e.e_gid=window._e360_groupid||"",e.e_yid=window._e360_creativeid||"",e.e_kid=window._e360_keywordid||"",e.e_clkid=window._e360_clickid||""),window._e360_commerce&&(e.e_com=window._e360_commerce||""),e}},X=function(){function n(e){e=O.fixTarget(e);var n=0,t=3,r=e.target,o={};for(o.t=r.nodeName;n<t&&r&&"A"!=r.nodeName;)n++,r=r.parentNode;return o.u=r&&"A"===r.nodeName?r.href:"",o}function t(e){e=O.fixTarget(e);var n={};return e.pageX&&(n.x=e.pageX),e.pageY&&(n.y=e.pageY),n}function r(e,n){var t=[];for(var r in e)t.push(r+":"+encodeURIComponent(e[r]));for(var o in n)t.push(o+":"+encodeURIComponent(n[o]));return t.join(",")}return function(o){var i=n(o);if(!(""==i.u||e(i.u,"javascript")>-1)){var a={},c=2,u=t(o),s=r(i,u);a.et=c,a.ep=s,_qha("send",a)}}}(),Y=function(e){function n(n){var t=N.first(n),r=N.rest(n);"function"==typeof e[t]&&e[t].apply({},r)}function t(e){for(var t=0,r=e.length;t<r;t++)n(e[t])}return function(){var e=window._qha;e&&e.c&&I.isArray(e.c)&&t(e.c),window._qha=null,window._qha=function(){n(arguments)},window._qha.init=!0}},J=I.nowBySeconds(),$=o(M.get(),J);t($);var G=c(S,J,_),W={send:function(e,n,t){return function(t){R.logData(e,n,t)}}(T,G)};if(Y(W)(),""!==x&&i(x,$,function(){w($)}),r(window,"load",function(){setTimeout(function(){w($)},500)}),""!==E&&f(E),r(window,"unload",function(){_qha("send",g())}),null!==j){var F=h(j);F?r(document,"mousedown",d(F)):console.info("ids error: ",F)}if(q&&r(document,"mousedown",X),null!==k){for(var H=!1,V=0;V<k.length;V++){var z=k[V];if(m(z)){H=!0;break}}H&&r(document,"mousedown",s)}}}();